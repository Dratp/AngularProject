<h2>Recipes</h2>
<h3>Search for your next favorite Recipe</h3>
<h4>Filter By:</h4>
<div class="form-check">
  <!-- LABELS: Sugar-Conscious,Vegan,Vegetarian,Peanut-Free,Tree-Nut-Free,Alcohol-Free -->
  <div class="form-check">
    <input
      (change)="activateFilter()"
      [(ngModel)]="glutenFree"
      class="form-check-input"
      type="checkbox"
      value=""
      id="flexCheckChecked"
    />
    <label class="form-check-label" for="flexCheckChecked"> Gluten Free </label>
  </div>
  <div class="form-check">
    <input
      (change)="activateFilter()"
      [(ngModel)]="dairyFree"
      class="form-check-input"
      type="checkbox"
      value=""
      id="flexCheckChecked"
    />
    <label class="form-check-label" for="flexCheckChecked"> Dairy Free </label>
  </div>
  <div class="form-check">
    <input
      (change)="activateFilter()"
      [(ngModel)]="peanutFree"
      class="form-check-input"
      type="checkbox"
      value=""
      id="flexCheckDefault"
    />
    <label class="form-check-label" for="flexCheckDefault"> Peanut-Free </label>
  </div>
  <div class="form-check">
   <input
      (change)="activateFilter()"
      [(ngModel)]="vegetarian"
      class="form-check-input"
      type="checkbox"
      value=""
      id="flexCheckChecked"
    />
    <label class="form-check-label" for="flexCheckChecked"> Vegetarian </label>
  </div>
  <div class="form-check">
    <input
      (change)="activateFilter()"
      [(ngModel)]="vegan"
      class="form-check-input"
      type="checkbox"
      value=""
      id="flexCheckChecked"
    />
    <label class="form-check-label" for="flexCheckChecked"> Vegan </label>
  </div>
  <div class="form-check">
    <input
      (change)="activateFilter()"
      [(ngModel)]="keto"
      class="form-check-input"
      type="checkbox"
      value=""
      id="flexCheckChecked"
    />
    <label class="form-check-label" for="flexCheckChecked"> Keto </label>
  </div>
  <div class="form-check">
    <input
      (change)="activateFilter()"
      [(ngModel)]="kosher"
      class="form-check-input"
      type="checkbox"
      value=""
      id="flexCheckChecked"
    />
    <label class="form-check-label" for="flexCheckChecked"> Kosher </label>
  </div>
  <div class="form-check">
    <input
      (change)="activateFilter()"
      [(ngModel)]="porkFree"
      class="form-check-input"
      type="checkbox"
      value=""
      id="flexCheckChecked"
    />
    <label class="form-check-label" for="flexCheckChecked"> Pork Free </label>
  </div>
</div>

<main>
  <div
    class="recipe-item"
    *ngFor="let recipe of recipeAPI.recipes; let i = index"
  >
    <h3>{{ recipe.recipe.label }}</h3>
    <img [src]="recipe.recipe.image" />

    <!-- https://getbootstrap.com/docs/5.0/components/accordion/-->
    <div class="accordion" id="accordianExample">
      <div class="accordion-item">
        <h2 class="accordion-header" [id]="'healthLabels' + i">
          <button
            class="accordion-button collapsed"
            type="button"
            data-bs-toggle="collapse"
            [attr.data-bs-target]="'#collapseOne' + i"
            aria-expanded="false"
            aria-controls="collapseOne"
          >
            Health Labels
          </button>
        </h2>
        <div
          [id]="'collapseOne' + i"
          class="accordion-collapse collapse"
          aria-labelledby="headingOne"
          data-bs-parent="#accordionExample"
        >
          <div class="accordion-body">
            <p>{{ recipe.recipe.healthLabels }}</p>
          </div>
        </div>
      </div>

      <div class="accordion-item">
        <h2 class="accordion-header" [id]="'ingredientLines' + i">
          <button
            class="accordion-button collapsed"
            type="button"
            data-bs-toggle="collapse"
            [attr.data-bs-target]="'#collapseTwo' + i"
            aria-expanded="false"
            aria-controls="collapseTwo"
          >
            Ingredients
          </button>
        </h2>
        <div
          [id]="'collapseTwo' + i"
          class="accordion-collapse collapse"
          aria-labelledby="headingTwo"
          data-bs-parent="#accordionExample"
        >
          <div class="accordion-body">
            <p *ngFor="let line of recipe.recipe.ingredientLines">{{line}}</p>
          </div>
        </div>
      </div>

      <div>
        <a [href]="recipe.recipe.url">Link to Recipe</a>
      </div>

      <div>
        <button (click)="favorite(recipe)" type="button" id="favoritesbtn">
          Favorite
        </button>
      </div>
    </div>
  </div>
</main>
